define("@wsb/guac-widget-shared/lib/components/DynamicFontScaler-e97484ef.js",["exports","~/c/_rollupPluginBabelHelpers"],(function(e,t){"use strict";function o(e){let t,{containerId:o,targetId:a,fontSizes:n,maxLines:r,prioritizeDefault:i}=e;if("undefined"==typeof document)return;const s=document.getElementById(o),l=document.getElementById(a);function c(e){return function(e){const t=parseInt(d(e,"padding-left")||0,10),o=parseInt(d(e,"padding-right")||0,10);return e.scrollWidth+t+o}(e)<=s.clientWidth&&function(e){const t=e.offsetHeight,o=parseInt(d(e,"line-height"),10)||1;return Math.floor(t/o)}(e)<=r}function p(){if(!s||!l||t===window.innerWidth)return;if(l.hasAttribute("data-font-scaled"))return void function(){l.removeAttribute("data-last-size");const e=document.querySelector(`#${a}-style`);e&&e.parentNode.removeChild(e)}();t=window.innerWidth;const e=Array.prototype.slice.call(s.querySelectorAll(`[data-scaler-id="scaler-${o}"]`)).sort(((e,t)=>n.indexOf(e.getAttribute("data-size"))-n.indexOf(t.getAttribute("data-size"))));if(s.clientWidth&&e.length){const t=s.style.width||"";s.style.width="100%",e.forEach((e=>{e.style.display="inline-block",e.style.maxWidth=`${s.clientWidth}px`}));const o=function(e){return e.find(c)||e[e.length-1]}(e);!function(e){e.forEach((e=>{e.style.display="none",e.style.maxWidth=""}))}(e),s.style.width=t;const n=d(o,"font-size"),r=l.getAttribute("data-last-size");if(n&&n!==r){if(i){const e=d(l,"font-size");if(parseInt(n,10)>=parseInt(e,10))return}l.setAttribute("data-last-size",n);let e=document.querySelector(`#${a}-style`);e||(e=document.createElement("style"),e.id=`${a}-style`,document.head.appendChild(e)),e.textContent=`#${l.id} { font-size: ${n} !important; }`}}}function d(e,t){return document.defaultView.getComputedStyle(e).getPropertyValue(t)}p(),window.addEventListener("resize",p)}const{Bootstrap:a}=(global.Core||guac["@wsb/guac-widget-core"]).components,{XXLARGE:n,XLARGE:r,LARGE:i}=(global.Core||guac["@wsb/guac-widget-core"]).constants.fontSizes,{PUBLISH:s}=(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes;class l extends(global.React||guac.react).Component{componentDidUpdate(){if(this.props.renderMode!==s){const{containerId:e,fontSizes:t,targetId:a,maxLines:n=3,prioritizeDefault:r}=this.props;o({containerId:e,targetId:a,fontSizes:t,maxLines:n,prioritizeDefault:r})}}render(){const{text:e,containerId:t,font:n,fontSizes:r,style:i,Tag:l=(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Element,typography:c,renderMode:p,targetId:d,maxLines:g=3,prioritizeDefault:u}=this.props,f={wordWrap:"normal !important",overflowWrap:"normal !important",display:"none",visibility:"hidden",position:"absolute",width:"auto",overflow:"visible",left:0},y={containerId:t,targetId:d,fontSizes:r,maxLines:g,prioritizeDefault:u};return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,r.map((o=>(global.React||guac.react).createElement(l,{tag:"span",key:o,font:n,style:{...i,...f,fontSize:o},"data-size":o,"data-scaler-id":`scaler-${t}`,typography:c,"data-ux":"scaler","aria-hidden":!0},e))),p===s?(global.React||guac.react).createElement(a.JS,{id:"DynamicFontScaler",script:o.toString(),props:y}):o(y))}}t.a(l,"propTypes",{typography:(global.PropTypes||guac["prop-types"]).string,text:(global.PropTypes||guac["prop-types"]).string.isRequired,containerId:(global.PropTypes||guac["prop-types"]).string.isRequired,font:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).oneOf(Object.values((global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes)),targetId:(global.PropTypes||guac["prop-types"]).string.isRequired,fontSizes:(global.PropTypes||guac["prop-types"]).arrayOf((global.PropTypes||guac["prop-types"]).oneOf(Object.values((global.Core||guac["@wsb/guac-widget-core"]).constants.fontSizes))),style:(global.PropTypes||guac["prop-types"]).object,maxLines:(global.PropTypes||guac["prop-types"]).number,Tag:(global.PropTypes||guac["prop-types"]).node,prioritizeDefault:(global.PropTypes||guac["prop-types"]).bool}),t.a(l,"defaultProps",{fontSizes:[n,r,i]}),e.default=l,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=DynamicFontScaler-e97484ef.js.map
